#!/usr/bin/env bash

function keesync() {
  db_path=$HOME/.keepass/
  dropbox_path=keepass/

  case "$1" in
    'local-sync')
      echo "Downloading latest Keepass DB from Dropbox..."
      rclone sync -P dropbox:"${dropbox_path}" "${db_path}"
    ;;
    'remote-sync')
      echo "Uploading local Keepass DB to Dropbox..."
      rclone sync "${db_path}" dropbox:"${dropbox_path}"
    ;;
    *)
      echo "Usage: $0 [local-sync|remote-sync]"
    ;;
  esac
}

keesync $1